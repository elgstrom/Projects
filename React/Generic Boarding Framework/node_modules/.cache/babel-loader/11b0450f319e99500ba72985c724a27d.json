{"ast":null,"code":"import _slicedToArray from \"/Users/elgstrom/Desktop/Netgain/netgain-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/elgstrom/Desktop/Netgain/netgain-1/src/views/Create_Process_Form.tsx\";\nimport * as React from \"react\";\nimport { Form, FieldArray, Formik } from \"formik\";\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { Activity } from \"../backend/ts/common_define\";\nimport { save_process_template, does_process_exist } from \"../backend/ts/database\";\nimport { useHistory } from \"react-router\";\nimport { useState } from \"react\";\nconst useStyles = makeStyles(theme => createStyles({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  textField: {\n    margin: theme.spacing(1),\n    width: \"100%\"\n  },\n  root: {\n    padding: theme.spacing(2),\n    margin: theme.spacing(1)\n  }\n}));\n\nfunction InnerForm() {\n  const history = useHistory();\n  const classes = useStyles({});\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        submitDialogOpen = _useState2[0],\n        setSubmitDialogOpen = _useState2[1];\n\n  const handleClose = (answer, values) => {\n    setSubmitDialogOpen(false);\n\n    if (answer === true) {\n      submitProcess(values);\n    }\n  };\n\n  const submitProcess = values => {\n    save_process_template(values);\n    console.log(values);\n    history.push('/View_Process_Templates');\n  };\n\n  return React.createElement(Formik, {\n    initialValues: {\n      title: \"\",\n      description: \"\",\n      activities: [new Activity()]\n    },\n    onSubmit: (values, actions) => {\n      does_process_exist(values.title).then(does_exist => {\n        if (does_exist) setSubmitDialogOpen(true);else submitProcess(values);\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, ({\n    values,\n    errors,\n    touched,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isSubmitting\n  }) => React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    name: \"title\",\n    className: classes.textField,\n    label: \"Process Title\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    autoComplete: \"off\",\n    type: \"text\",\n    required: true,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    value: values.title.length === 1 ? values.title.toUpperCase() : values.title,\n    inputProps: {\n      style: {\n        fontSize: 30\n      }\n    },\n    InputLabelProps: {\n      style: {\n        fontSize: 30\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    name: \"description\",\n    id: \"outlined-basic\",\n    className: classes.textField,\n    label: \"Description\",\n    margin: \"normal\",\n    multiline: true,\n    rows: \"3\",\n    variant: \"outlined\",\n    type: \"text\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    value: values.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  })), React.createElement(FieldArray, {\n    name: \"activities\",\n    render: helpers => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, values.activities && values.activities.length > 0 ? values.activities.map((activity, index) => React.createElement(Paper, {\n      className: classes.root,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      autoComplete: \"off\",\n      name: \"activities.\".concat(index, \".title\"),\n      className: classes.textField,\n      label: \"Activity Title\",\n      margin: \"normal\",\n      variant: \"outlined\",\n      type: \"text\",\n      required: true,\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: activity.title.length === 1 ? activity.title.toUpperCase() : activity.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"activities.\".concat(index, \".description\"),\n      id: \"outlined-basic\",\n      className: classes.textField,\n      label: \"Description\",\n      margin: \"normal\",\n      multiline: true,\n      rows: \"3\",\n      variant: \"outlined\",\n      type: \"text\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: activity.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      style: {\n        flexGrow: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: classes.button,\n      \"aria-label\": \"advanced settings\",\n      color: \"default\",\n      onClick: () => console.log(\"Advance settings\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(SettingsIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: classes.button,\n      \"aria-label\": \"add\",\n      color: \"default\",\n      onClick: () => helpers.push({\n        title: \"\",\n        description: \"\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(AddIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })), React.createElement(IconButton, {\n      className: classes.button,\n      disabled: values.activities.length < 2,\n      \"aria-label\": \"remove\",\n      color: \"default\",\n      onClick: () => helpers.remove(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(RemoveIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    })))), React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }))))) : null, React.createElement(Grid, {\n      justify: \"center\",\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(Dialog, {\n      open: submitDialogOpen,\n      onClose: () => {\n        handleClose(false, values);\n      },\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(DialogTitle, {\n      id: \"alert-dialog-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"A process with this name already exists, do you want to overwrite it?\"), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: () => {\n        handleClose(false, values);\n      },\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"No\"), React.createElement(Button, {\n      onClick: () => {\n        handleClose(true, values);\n      },\n      color: \"primary\",\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Yes\"))), React.createElement(Button, {\n      variant: \"contained\",\n      className: classes.button,\n      type: \"submit\",\n      color: \"primary\",\n      disabled: isSubmitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Save\"))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })));\n}\n\n;\nexport default InnerForm;","map":{"version":3,"sources":["/Users/elgstrom/Desktop/Netgain/netgain-1/src/views/Create_Process_Form.tsx"],"names":["React","Form","FieldArray","Formik","createStyles","makeStyles","TextField","Button","Paper","Grid","Dialog","DialogActions","DialogTitle","IconButton","AddIcon","SettingsIcon","RemoveIcon","Activity","save_process_template","does_process_exist","useHistory","useState","useStyles","theme","container","display","flexWrap","button","margin","spacing","textField","width","root","padding","InnerForm","history","classes","submitDialogOpen","setSubmitDialogOpen","handleClose","answer","values","submitProcess","console","log","push","title","description","activities","actions","then","does_exist","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","length","toUpperCase","style","fontSize","helpers","map","activity","index","flexGrow","remove"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { withFormik, FormikProps, Form, FieldArray, Formik } from \"formik\";\n\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { Process, Activity } from \"../backend/ts/common_define\";\nimport { save_process_template, does_process_exist } from \"../backend/ts/database\";\nimport { useHistory } from \"react-router\";\nimport { DialogContent } from \"@material-ui/core\";\nimport { useState } from \"react\";\n\ninterface OtherProps {\n\ttitle?: string;\n}\n\ninterface CreateProcessProps {\n\ttitle?: string;\n\tdescription?: string;\n\tactivities?: Array<Activity>;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tcontainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbutton: {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t\ttextField: {\n\t\t\tmargin: theme.spacing(1),\n\t\t\twidth: \"100%\"\n\t\t},\n\t\troot: {\n\t\t\tpadding: theme.spacing(2),\n\t\t\tmargin: theme.spacing(1)\n\t\t},\n\t})\n);\n\nfunction InnerForm() {\n\n\tconst history = useHistory();\n\tconst classes = useStyles({});\n\tconst [submitDialogOpen, setSubmitDialogOpen] = useState(false);\n\n\tconst handleClose = (answer: Boolean, values: Process) => {\n\t\tsetSubmitDialogOpen(false);\n\t\tif (answer === true) {\n\t\t\tsubmitProcess(values);\n\t\t}\n\t};\n\n\tconst submitProcess = (values: Process) => {\n\t\tsave_process_template(values);\n\t\tconsole.log(values);\n\t\thistory.push('/View_Process_Templates');\n\t}\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{\n\t\t\t\ttitle: \"\",\n\t\t\t\tdescription: \"\",\n\t\t\t\tactivities: [\n\t\t\t\t\tnew Activity(),\n\t\t\t\t],\n\t\t\t}}\n\t\t\tonSubmit={(values, actions) => {\n\t\t\t\tdoes_process_exist(values.title).then((does_exist) => {\n\t\t\t\t\tif (does_exist)\n\t\t\t\t\t\tsetSubmitDialogOpen(true);\n\t\t\t\t\telse\n\t\t\t\t\t\tsubmitProcess(values);\n\t\t\t\t});\n\t\t\t}}\n\t\t>\n\t\t\t{({ values,\n\t\t\t\terrors,\n\t\t\t\ttouched,\n\t\t\t\thandleChange,\n\t\t\t\thandleBlur,\n\t\t\t\thandleSubmit,\n\t\t\t\tisSubmitting }) => (\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tlabel=\"Process Title\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tvalue={values.title.length === 1 ? values.title.toUpperCase() : values.title}\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\tstyle: { fontSize: 30 }\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\tstyle: { fontSize: 30 }\n\t\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tvalue={values.description}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<FieldArray name=\"activities\"\n\t\t\t\t\t\t\trender={(helpers) => (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{values.activities && values.activities.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\tvalues.activities.map((activity, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<Paper className={classes.root} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`activities.${index}.title`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Activity Title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={activity.title.length === 1 ? activity.title.toUpperCase() : activity.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`activities.${index}.description`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={activity.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{flexGrow:1}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txs\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"advanced settings\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => console.log(\"Advance settings\") }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SettingsIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txs\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => helpers.push({ title: \"\", description: \"\" })}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.activities.length < 2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"remove\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => helpers.remove(index)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Dialog\n\t\t\t\t\t\t\t\t\t\t\topen={submitDialogOpen}\n\t\t\t\t\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\t\t\t\t\thandleClose(false, values);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\t\t\t\t\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\"A process with this name already exists, do you want to overwrite it?\"}\n\t\t\t\t\t\t\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(false, values);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tNo\n          \t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(true, values);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tYes\n          \t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t\t\t\t\t</Dialog>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t\tisSubmitting\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)} />\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t</Formik>\n\n\t);\n};\n\n\n\nexport default InnerForm;\n\n"]},"metadata":{},"sourceType":"module"}